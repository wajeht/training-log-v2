<section class="px-4 py-5">
  <div class="container">
    <div class="row gy-3 position-relative">
      <!-- Account settings -->
      <div class="col-12 col-md-3 col-lg-3">
        <div class="card shadow-sm">
          <div class="list-group" id="list-tab" role="tablist">
            <div class="card-body">
              <h5 class="card-title mb-3">Edit Profile</h5>
            </div>

            <!-- edit profile -->
            <a
              class="list-group-item list-group-item-action"
              id="list-home-list"
              data-bs-toggle="list"
              href="#list-edit-profile"
              role="tab"
              >Edit profile</a
            >

            <!-- change password -->
            <a
              class="list-group-item list-group-item-action"
              id="list-profile-list"
              data-bs-toggle="list"
              href="#list-change-password"
              role="tab"
              >Change password</a
            >

            <!-- delete account -->
            <a
              class="list-group-item list-group-item-action"
              id="list-messages-list"
              data-bs-toggle="list"
              href="#list-delete-account"
              role="tab"
              >Delete account</a
            >
          </div>
        </div>
      </div>

      <div class="col-12 col-md-9 col-lg-9">
        <div class="tab-content" id="nav-tabContent">
          <!-- edit profile form -->
          <%- include('../../partials/auth/edit-profile-form.ejs') %>

          <!-- edit password form -->
          <%- include("../../partials/auth/change-password-form.ejs") %>

          <!-- delete account -->
          <%- include("../../partials/auth/delete-account-form.ejs") %>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const currentURL = window.location.href;
  if (currentURL.indexOf("#") !== -1) {
    const id = "#" + currentURL.split("#")[1];
    const content = document.querySelectorAll(".active");

    // remove all active tab and content
    content.forEach((element) => {
      element.classList.remove("active");
    });

    // make the the tab from url active
    document.querySelector(`a[href='${id}']`).classList.add("active");
    document.querySelector(id).classList.add("active");
  } else {
    document
      .querySelector(`a[href='#list-edit-profile']`)
      .classList.add("active");
    document.querySelector("#list-edit-profile").classList.add("active");
  }
</script>
